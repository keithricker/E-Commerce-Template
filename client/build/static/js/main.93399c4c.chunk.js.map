{"version":3,"sources":["components/ui/custom-button/custom-button.component.jsx","components/collection-item/collection-item.component.jsx","components/collection-preview/collection-preview.component.jsx","components/collections-overview/collections-overview.component.jsx","pages/collection/collection.component.jsx","pages/shop/shop.component.jsx","components/ui/cart-icon/cart-icon.component.jsx","components/cart-item/cart-item.component.jsx","components/cart-items-dropdown/cart-items-dropdown.component.jsx","components/header/header.component.jsx","components/ui/backdrop/backdrop.jsx","App.js","store/redux/store.js","store/redux/persistence.js","index.js","firebase/firebase.utils.js","store/redux/cart/cart-slice.js","store/redux/user/user-slice.js","store/redux/shop/shop-slice.js","components/ui/loading/loading.component.jsx","cms.js"],"names":["CustomButton","_ref","children","inverted","isGoogleSignIn","className","badgeContent","otherProps","badgeIcon","_objectWithoutProperties","_excluded","_jsx","_objectSpread","concat","Badge","color","cartIcon","faCartPlus","CollectionItem","item","matchingItem","useSelector","state","cart","cartItems","find","_item","id","quantity","dispatch","useDispatch","addToCart","cartItem","cartActions","addItem","name","price","imageUrl","quantityJsx","_jsxs","style","textTransform","src","alt","loading","onClick","FontAwesomeIcon","icon","CollectionPreview","title","items","toUpperCase","map","CollectionsOverview","collection","collectionsFromState","shop","collections","Object","keys","key","previews","count","_ref2","other","slice","CollectionPage","collectionId","match","params","ShopPage","fetchCollections","shopThunks","isFetching","isPending","error","useEffect","constructor","Spinner","console","Route","exact","path","render","props","CartIcon","itemCount","reduce","prev","curr","_Fragment","toggleItems","CartItem","_ref$item","withRouter","history","toggle","listener","target","classes","_toConsumableArray","classList","includes","window","addEventListener","removeEventListener","Drawer","open","anchor","length","push","withCms","branding","cms","currentUser","user","hidden","brandingText","titleText","titleColor","document","Link","to","userThunks","signOut","CartDropdown","SimpleBackdrop","spinner","_props$style","opacity","backgroundColor","_useState","useState","_useState2","_slicedToArray","setOpen","Backdrop","sx","zIndex","theme","drawer","position","top","CircularProgress","textAlign","checkUserSession","HomePage","lazyLoad","SignInAndSignUpPage","CheckoutPage","ContactPage","importFunc","Component","React","lazy","Suspense","fallback","App","showDetails","setShowDetails","Details","cursor","href","Button","Header","Switch","component","Redirect","rootReducer","userReducer","cartReducer","shopReducer","configureStore","reducer","persistConfig","storage","rootReducers","combineReducers","persistedReducer","persistReducer","store","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","thunk","setupListeners","persistor","persistStore","Persistence","PersistGate","ReactDOM","Provider","persistentStore","BrowserRouter","getElementById","createUserProfileDocument","_asyncToGenerator","_regeneratorRuntime","mark","_callee","userAuth","additionalData","userRef","displayName","email","createdAt","wrap","_context","next","abrupt","firestore","doc","uid","get","sent","exists","Date","set","t0","message","nonExistent","stop","_x","_x2","apply","arguments","convertSnapshot","docs","data","accumulated","toLowerCase","getCurrentUser","Promise","resolve","reject","unsubscribe","auth","onAuthStateChanged","fetchDocuments","_x5","_fetchDocuments","_callee3","collectionRef","snapshot","collectionsMap","_context3","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","googleProvider","GoogleAuthProvider","setCustomParameters","prompt","createSlice","initialState","reducers","action","current","cartItemToAdd","payload","updatedCart","reduceItemQuantity","cartItemToReduce","filter","clearItem","clearCart","actions","signInSuccess","signUpSuccess","signOutSuccess","_signOutSuccess","_callee6","_args6","_context6","undefined","failedAttempt","_failedAttempt","_callee7","msg","_context7","getSnapshotFromUserAuth","_x3","_getSnapshotFromUserAuth","_callee8","userSnapshot","success","_context8","Error","isUserAuthenticated","_isUserAuthenticated","_callee9","snapShot","_context9","isAuthenticated","signInAfterSignUp","_x4","_signInAfterSignUp","_callee10","_context10","asyncFunctions","checked","signUp","_callee2","password","_yield$auth$createUse","_document","_context2","createUserWithEmailAndPassword","googleSignIn","_yield$auth$signInWit","signInWithPopup","emailSignIn","_callee4","_yield$auth$signInWit2","_context4","signInWithEmailAndPassword","_callee5","_context5","thunks","forEach","createAsyncThunk","reset","extraReducers","builder","addCase","pending","fulfilled","assign","rejected","faCloudSunRain","icons","faUserFriends","faPlay","faMarker","faChartLine","values","routeName","encodeURI","fetchSections","result","sections","value","sort","a","b","order","linkUrl","size","sessionStorage","getItem","JSON","parse","_unused","setItem","stringify","_unused2","obj","formatElements","elements","camelKey","split","txt","ind","charAt","join","sanitize","api","memoizeOne","formatted","contact","_cms","_setCms","val","_fetchData","_branding","_contact","fetchData"],"mappings":"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","file":"static/js/main.93399c4c.chunk.js","sourcesContent":["import React from 'react';\nimport './custom-button.styles.scss';\nimport Badge from '@mui/material/Badge';\n\nconst CustomButton = ({ children, isGoogleSignIn, inverted, className, badgeContent, badgeIcon, ...otherProps }) => {\nreturn (\n    <button className={`${inverted ? 'inverted' : ''} ${className ? className : ''} custom-button`} { ...otherProps }>\n        <Badge badgeContent={badgeContent} color=\"primary\">{children}</Badge>\n    </button>\n    )\n}\nexport default CustomButton;","import React from 'react';\nimport { useSelector,useDispatch } from 'react-redux';\nimport { cartActions } from '../../store/redux/cart/cart-slice';\nimport CustomButton from '../ui/custom-button/custom-button.component';\nimport './collection-item.styles.scss';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faCartPlus } from '@fortawesome/free-solid-svg-icons'\n\nconst cartIcon = faCartPlus\n\nconst CollectionItem = ({ item }) => {\n    const cartItems = useSelector(state => state.cart.cartItems)\n    const matchingItem = cartItems.find(_item => _item.id === item.id)\n    const quantity = matchingItem ? matchingItem.quantity : 0\n    const dispatch = useDispatch()\n    const addItem = cartItem => dispatch(cartActions.addItem(cartItem)) \n    const addToCart = (cartItem) => { \n      addItem(cartItem) \n    } \n    const { name, price, imageUrl } = item;\n    const quantityJsx = quantity ? <span style={{textTransform:\"lowercase\"}}>&nbsp;quantity: {quantity}</span> : ''\n    return (\n        <div className=\"collection-item\" data-id={item.id}>\n            <div className=\"imageWrapper\">\n              <img className=\"image\" src={imageUrl} alt={name} loading=\"lazy\" />\n            </div>\n            <CustomButton onClick={() => addToCart(item)} inverted>\n                <span className=\"fontAwesomeIcon\"><FontAwesomeIcon icon={cartIcon} /></span>\n                <span className=\"button-text\">ADD TO CART {quantityJsx}</span>\n            </CustomButton>\n            <div className=\"collection-footer\">\n                <span className=\"name\">{name}</span>\n                <span className=\"price\">${price}</span>\n            </div>\n        </div>\n    )\n}\n\nexport default CollectionItem","import React from 'react';\nimport './collection-preview.styles.scss';\nimport CollectionItem from '../collection-item/collection-item.component';\n\nconst CollectionPreview = ({ title, items }) => (\n    <div className='collection-preview'>\n        <h1 className='title'>{title.toUpperCase()}</h1>\n        <div className=\"preview\">\n            {items.map((item) => (\n                <CollectionItem key={item.id} item={item} />\n            ))}\n        </div>\n    </div>\n) \nexport default CollectionPreview;","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport CollectionPreview from '../collection-preview/collection-preview.component';\n\nconst CollectionsOverview = ({collection}) => { \n    const previews = (collections) => collections ? Object.keys(collections).map(key => collections[key]) : []\n    const collectionsFromState = useSelector(state => state.shop.collections) || []\n    const collections = collection ? [collection] : previews(collectionsFromState)\n    let count = collections.count\n    return (\n    <div className='collections-overview'>\n        {\n            collections.map(({ id,...other }) => {\n              other.items = other.items.slice(0,4)\n              other.count = count\n              return <CollectionPreview key={id} {...other} />\n            })\n        }\n    </div> \n    )\n};\n\nexport default CollectionsOverview","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport CollectionsOverview from '../../components/collections-overview/collections-overview.component';\n\nconst CollectionPage = ({ match }) => {\n    const collectionId = match.params.collectionId\n    const collections = useSelector(state => state.shop.collections)\n    const collection = collections[collectionId]\n    return <CollectionsOverview collection={collection}></CollectionsOverview>\n};\n\nexport default CollectionPage","import React, { useEffect } from 'react';\nimport { Route } from 'react-router-dom';\nimport CollectionPage from '../collection/collection.component';\nimport CollectionsOverview from '../../components/collections-overview/collections-overview.component';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { shopThunks } from '../../store/redux/shop/shop-slice'\nimport { Spinner } from '../../components/ui/loading/loading.component'\n\nconst ShopPage = ({ match }) => {\n  const dispatch = useDispatch()\n  const fetchCollections = shopThunks.fetchCollections\n  const shop = useSelector(state => state.shop)\n  const isFetching = shop.isPending\n  const error = shop.error\n  const collections = useSelector(state => state.shop.collections)\n\n  useEffect(() => {\n    (!collections || collections.constructor.name !== 'Object') && dispatch(fetchCollections())\n  },[])\n\n  if (isFetching || !collections) {\n    return <Spinner />\n  }\n\n  if (error) {\n    console.error(error)\n    return <h1>Error!</h1>\n  }\n    return (\n        <div className=\"shop-page\">\n            <Route exact path={`${match.path}`} render={(props) => <CollectionsOverview {...props} /> } />\n            <Route path={`${match.path}/:collectionId`} render={(props) => <CollectionPage {...props} />} />\n        </div>\n    )\n}\n\nexport default ShopPage","import React from 'react';\nimport { useSelector,useDispatch } from 'react-redux';\nimport { cartActions } from '../../../store/redux/cart/cart-slice';\nimport './cart-icon.styles.scss';\nimport Badge from '@mui/material/Badge';\n\nconst CartIcon = () => {\n  const dispatch = useDispatch()\n  const cartItems = useSelector(state => state.cart.cartItems) || []\n  const itemCount = cartItems.reduce((prev,curr) => prev + (curr.quantity || 0), 0)\n  const toggle = () => dispatch(cartActions.toggleItems())\n  return (\n    <>\n    <div className='cart-icon' onClick={toggle}>\n      <Badge badgeContent={itemCount} color=\"primary\">\n          <img alt=\"shopping bag\" src=\"/img/bag.png\" />\n      </Badge>\n    </div>  \n    </>\n  )\n}\nexport default CartIcon","import React from 'react';\nimport './cart-item.styles.scss';\nconst CartItem = ({ item: { imageUrl, price, name, quantity } }) => (\n    <div className='cart-item'>\n        <img src={imageUrl} alt='item' />\n        <div className='item-details'>\n            <span className='name'>{name}</span>\n            <span className='price'>\n                {quantity} x ${price}\n            </span>\n        </div>\n    </div>\n);\nexport default CartItem;","import React, {useEffect} from 'react';\nimport CartItem from '../cart-item/cart-item.component';\nimport { useSelector, useDispatch } from 'react-redux';\nimport CustomButton from '../ui/custom-button/custom-button.component';\nimport { Drawer } from '@mui/material'\nimport { cartActions } from '../../store/redux/cart/cart-slice';\nimport { withRouter } from 'react-router-dom';\nimport './cart-items-dropdown.styles.scss';\n\nconst CartDrawer = function({history}) {\n    const dispatch = useDispatch()\n    const toggle = () => dispatch(cartActions.toggleItems())\n    const cartItems = useSelector(state => state.cart.cartItems) || []\n    \n    const listener = ({target}) => {\n      const classes = [ ...target.classList]\n      if (classes.includes('MuiBackdrop-root') || classes.includes('MuiPaper-root')) {\n        toggle()\n      }\n    }\n    \n    useEffect(() => {\n      window.addEventListener('click',listener)\n      return () => window.removeEventListener('click',listener)\n    }) \n     \n    return (\n      <div className='cart-dropdown'>\n        <Drawer open={true} anchor=\"right\">\n          <div className='cart-items'>\n              {\n              cartItems.length ? \n              cartItems.map(cartItem => <CartItem key={cartItem.id} item={cartItem} />)\n              :\n              <span className=\"empty-message\">Your cart is empty.</span>\n              }\n              {\n              cartItems.length &&\n                <CustomButton onClick={() => { \n                    history.push('/checkout');\n                    toggle();\n                }}>GO TO CHECKOUT</CustomButton>\n              }\n          </div>\n        </Drawer>\n    </div>\n    )\n}\n\nexport default withRouter(CartDrawer)\n","import React from 'react';\nimport './header.styles.scss';\nimport { Link } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport CartIcon from '../ui/cart-icon/cart-icon.component'\nimport CartDropdown from '../cart-items-dropdown/cart-items-dropdown.component';\nimport { userThunks } from '../../store/redux/user/user-slice';\nimport { withCms } from '../../cms';\n\nconst Header = ({cms}) => {\n  \n  const { branding } = cms\n  const dispatch = useDispatch()\n  const currentUser = useSelector(state => state.user.currentUser)\n  const hidden = useSelector(state => state.cart ? state.cart.hidden : true)\n  const signOut = () => dispatch(userThunks.signOut())\n  const { brandingText, titleText, titleColor } = branding\n\n  document.title = titleText\n\n  return (\n  <div className=\"header clearfix\">\n      <Link to=\"/\">\n        <div className=\"branding\"><h2 style={{color:titleColor}}>{titleText}</h2></div>\n        { brandingText && <p className=\"brandingText\">{brandingText}</p> }\n      </Link>\n            \n      <div className=\"options\">\n          <Link to=\"/shop\">\n            <div className=\"option\">SHOP</div>\n          </Link>\n          <Link to=\"/contact\">\n            <div className=\"option\">CONTACT</div>\n          </Link>\n          {\n            currentUser ?\n            <div className=\"option\" onClick={signOut}>SIGN OUT</div>\n            :\n            <Link to=\"/signin\">\n              <div className=\"option\">SIGN IN</div>\n            </Link>\n          }\n          <CartIcon />\n      </div>\n      {\n      hidden ? null :\n      <CartDropdown />\n      }\n  </div>\n  )\n}\nexport default withCms(Header)","import React, {useState} from 'react'\nimport Backdrop from '@mui/material/Backdrop';\nimport CircularProgress from '@mui/material/CircularProgress';\n\nexport default function SimpleBackdrop(props) {\n  const { spinner, style={}, children } = props\n  if (style.opacity) {\n    style.backgroundColor = `rgba(0, 0, 0, ${style.opacity})`\n  }\n  const [open, setOpen] = useState(true);\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <Backdrop\n        sx={{ color: '#fff', zIndex: (theme) => theme.zIndex.drawer + 1, ...style }}\n        open={open}\n      >\n        <div className=\"backdrop-text\" style={{color:\"inherit\", position:\"absolute\",top:'10%'}}>\n          {\n            children && children\n          }\n          {\n            spinner && <CircularProgress color=\"inherit\" />\n          }\n          <div style={{textAlign:'center'}} onClick={handleClose}><br />CLOSE</div>\n        </div>\n      </Backdrop>\n    </div>\n  );\n}","import React, { Suspense,useEffect,useState } from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport { useSelector,useDispatch } from 'react-redux';\nimport './App.css';\nimport ShopPage from './pages/shop/shop.component';\nimport Header from './components/header/header.component';\nimport { userThunks } from './store/redux/user/user-slice';\nimport SimpleBackdrop from './components/ui/backdrop/backdrop';\nimport Button from '@mui/material/Button';\n\nconst { checkUserSession } = userThunks\nconst HomePage = lazyLoad(() => import('./pages/homepage/homepage.component'))\nconst SignInAndSignUpPage = lazyLoad(() => import('./pages/sign-in-and-sign-up/sign-in-and-sign-up.component'));\nconst CheckoutPage = lazyLoad(() => import('./pages/checkout/checkout.component'));\nconst ContactPage = lazyLoad(() => import('./pages/contact/contact.component'));\n\nfunction lazyLoad(importFunc) {\n  const Component = React.lazy(importFunc)\n  return () => <Suspense fallback={<div>Loading ...</div>}><Component /></Suspense>\n}\n\nconst App = () => {\n  const dispatch = useDispatch()\n  const user = useSelector(state => state.user)\n  const currentUser = user.currentUser\n  const [showDetails,setShowDetails] = useState(false)\n\n  useEffect(() => {\n    dispatch(checkUserSession())\n  },[dispatch])\n\n  const Details = () => (\n    <div>\n      <h3>Features:</h3>\n      <ul>\n        <li>Single Page App with Persistence (via redux persist)</li>\n        <li>Pages: Home, Shop, Contact</li>\n        <li>E-commerce (mock) enabled</li>\n        <li>Payment processing using Stripe</li>\n        <li>User Authentication using Firebase (enabled)</li>\n        <li>Redux State Management (Redux Toolkit)</li>\n        <li>Accessibility</li>\n        <li>Server-side Rendered</li>\n        <li>High Performance Metrics.</li>\n      </ul>\n    </div>\n  )\n\n  return (\n    <>\n    <SimpleBackdrop style={{opacity:'0.8',cursor:'pointer'}}>\n      <>\n      {\n        showDetails ? <Details />\n        :\n        <div style={{textAlign:'center'}}>\n          <h2>This is a functional (demo) e-commerce app built with React and Typescript</h2>\n          <div>Among it's features is it's ability to serve as a headless CMS with either Wordpress or Drupal,\n            but can be made to work with any API.\n          </div>\n          <br />\n          <div>Branding and Shop Items can be managed in the CMS (For demo purposes, we're using a Dairy Supplier). </div>\n          <br />\n          <a href=\"https://codesandbox.io/s/github/keithricker/e-commerce-template\">\n            <Button>View the Code on Codesandbox</Button>\n          </a>\n          <div>\n            <Button onClick={() => setShowDetails(true)}>More Detail about the App</Button>\n          </div>\n        </div>\n      }\n      </>\n    </SimpleBackdrop>\n    <div>\n      <Header />\n      <Switch>\n        <Route exact path='/' component={HomePage} />\n        <Route path='/shop' component={ShopPage} />\n        <Route exact path='/contact' component={ContactPage} />\n        <Route exact path='/checkout' component={CheckoutPage} />\n        <Route exact path='/signin' render={\n          () => currentUser ? (\n              <Redirect to='/' />\n            ) : (\n              <SignInAndSignUpPage />\n            )\n        } />\n      </Switch>\n    </div>\n    </>\n  )\n}\nexport default App","import { configureStore } from '@reduxjs/toolkit'\nimport { cartReducer } from './cart/cart-slice'\nimport { userReducer } from './user/user-slice'\nimport { shopReducer } from './shop/shop-slice'\n\nexport const rootReducer = {\n  user:userReducer,\n  cart:cartReducer,\n  shop: shopReducer\n}\n\nexport const store = configureStore({\n  reducer: rootReducer\n})\n","import { configureStore } from '@reduxjs/toolkit'\nimport { setupListeners } from '@reduxjs/toolkit/query'\nimport { combineReducers } from '@reduxjs/toolkit'\nimport { rootReducer } from './store'\nimport thunk from 'redux-thunk'\nimport storage from 'redux-persist/lib/storage'\nimport { persistStore } from 'redux-persist'\nimport { PersistGate } from 'redux-persist/integration/react'\nimport {\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from 'redux-persist'\n\nconst persistConfig = {\n  key: 'root',\n  storage: storage\n}\nexport const rootReducers = combineReducers(rootReducer)\nconst persistedReducer = persistReducer(persistConfig, rootReducers)\n\nexport const store = configureStore({\n  reducer: persistedReducer,\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware({\n      serializableCheck: {\n        ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n      },\n    }).concat([thunk]),\n})\n\nsetupListeners(store.dispatch)\n\nlet persistor = persistStore(store)\n\nexport default function Persistence({children}) {\n  return (\n    <PersistGate persistor={persistor}>\n      {children}\n    </PersistGate>\n  )\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport './index.css';\nimport App from './App';\nimport Persistence, { store as persistentStore } from './store/redux/persistence';\n\nReactDOM.render(\n    <Provider store={persistentStore}>\n        <BrowserRouter>\n             <Persistence>\n                <App />\n             </Persistence>\n        </BrowserRouter>\n    </Provider>,\n    document.getElementById('root')\n);","import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\n\nconst config = {\n    apiKey: \"AIzaSyBmkAZLsK9nHRibcKYMA74sQ1uWjKuVMYc\",\n    authDomain: \"crown-db-90fc9.firebaseapp.com\",\n    databaseURL: \"https://crown-db-90fc9.firebaseio.com\",\n    projectId: \"crown-db-90fc9\",\n    storageBucket: \"crown-db-90fc9.appspot.com\",\n    messagingSenderId: \"1053207512331\",\n    appId: \"1:1053207512331:web:a7bc1128af8132eb3dce0e\"\n}\n\nexport const createUserProfileDocument = async (userAuth, additionalData) => {\n    if (!userAuth) return;\n\n    let userRef = firestore.doc(`users/${userAuth.uid}`);\n    const snapShot = await userRef.get();\n\n    if (!snapShot.exists) {\n        const { displayName, email } = userAuth;\n        const createdAt = new Date();\n\n        try {\n            await userRef.set({\n                displayName,\n                email,\n                createdAt,\n                ...additionalData\n            })\n        } catch (err) {\n            console.error('error creating user', err.message)\n            userRef = { ...userRef,error:err.message, nonExistent:true }\n        }\n    }\n    return userRef;\n}\n\nexport const addCollectionAndDocuments = async (collectionKey, objectsToAdd) => {\n    const collectionRef = firestore.collection(collectionKey);\n    const batch = firestore.batch();\n    objectsToAdd.forEach(obj => {\n        const newDocRef = collectionRef.doc();\n        batch.set(newDocRef, obj);\n    });\n    return await batch.commit();\n}\n\nexport const convertSnapshot = (collections) => {\n    const transformedCollection = collections.docs.map(doc => {\n        const data = doc.data();\n        return {\n            ...data,\n            id: doc.id,\n        }\n    });\n    return transformedCollection.reduce((accumulated, collection) => {\n        accumulated[collection.title.toLowerCase()] = collection;\n        return accumulated;\n    }, {});\n}\n\nexport const getCurrentUser = () => {\n    return new Promise((resolve, reject) => {\n        const unsubscribe = auth.onAuthStateChanged(userAuth => {\n            unsubscribe();\n            resolve(userAuth);\n        }, reject)\n    })\n}\n\nexport async function fetchDocuments(name) {\n    const collectionRef = firestore.collection(name);\n    const snapshot = await collectionRef.get();\n    const collectionsMap = await convertSnapshot(snapshot);\n    return collectionsMap\n  }\n\nfirebase.initializeApp(config);\nexport const auth = firebase.auth();\nexport const firestore = firebase.firestore();\nexport const googleProvider = new firebase.auth.GoogleAuthProvider();\ngoogleProvider.setCustomParameters({ prompt: 'select_account' });\nexport const signInWithGoogle = () => auth.signInWithPopup(googleProvider);","import { createSlice, current } from '@reduxjs/toolkit'\n\nconst slice = createSlice({\n  name: 'cart',\n  initialState: {\n    hidden: true,\n    cartItems: []\n  },\n  reducers: {\n    toggleItems(state) {  \n      return {\n        ...state,\n        hidden: !state.hidden\n      }\n    },\n    addItem(state,action) {\n      state = current(state)\n      const cartItems = state.cartItems\n      const cartItemToAdd = action.payload\n      const existingCartItem = cartItems.find(cartItem => cartItem.id === cartItemToAdd.id);\n\n      if (existingCartItem) {\n         const updatedCart = cartItems.map(\n            cartItem => {\n               return cartItem.id === cartItemToAdd.id ? {\n                  ...cartItem, quantity: cartItem.quantity +1\n               } : cartItem\n            }\n          )\n          return { ...state, cartItems:updatedCart }\n       }\n       return { ...state, cartItems: [...cartItems, { ...cartItemToAdd, quantity: 1 }] }\n    },\n    reduceItemQuantity(state,action) {\n      state = current(state)\n      const cartItems = state.cartItems\n      const cartItemToReduce = cartItems.find(item => item.id === action.payload.id)\n      const existingCartItem = cartItems.find(cartItem => cartItem.id === cartItemToReduce.id);\n      let updatedCart\n      if (existingCartItem.quantity === 1) {\n         updatedCart = cartItems.filter(item => item.id !== cartItemToReduce.id);\n      } else {\n        updatedCart = cartItems.map(item =>\n         item.id === cartItemToReduce.id \n         ? { ...item, quantity: item.quantity -1 }\n         : item\n        )\n      }\n      return {\n        ...state,\n        cartItems: updatedCart\n      }\n    },\n    clearItem(state,action) {\n      state = current(state)\n      return {\n        ...state,\n        cartItems: state.cartItems.filter(item => item.id !== action.payload.id)\n      }      \n    },\n    clearCart(state) {\n      return {\n        ...state,\n        cartItems:[]\n      }\n    },\n  }\n});\n\nexport const cartReducer = slice.reducer\nexport const cartActions = slice.actions","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit'\nimport { auth, googleProvider, createUserProfileDocument, getCurrentUser } from '../../../firebase/firebase.utils'\n\nfunction signInSuccess(user) {\n  return {\n    currentUser: user,\n    error: null,\n    isPending: false\n  }\n}\nfunction signUpSuccess({user, additionalData}) {\n  return {\n    ...user,\n    ...additionalData\n  }\n}\nasync function signOutSuccess(signOut={}) {\n  return {\n    ...signOut,\n    currentUser: null,\n    error: null               \n  }\n}\n\nasync function failedAttempt(msg) {\n  return {\n    currentUser:null,\n    error: msg,\n  }\n}\n\nasync function getSnapshotFromUserAuth(userAuth, additionalData) {\n  try {\n      const userRef = await createUserProfileDocument(userAuth, additionalData);\n      if (userRef.error) {\n        throw new Error(userRef.error || \"User doesn't exist.\")\n      }\n      const userSnapshot = await userRef.get();\n      const success = {id: userSnapshot.id, ...userSnapshot.data()};\n      return success\n  } catch(error) {\n      return error\n  }\n}\n\nasync function isUserAuthenticated() {\n  try {\n      const userAuth = await getCurrentUser();\n      if (typeof userAuth !== 'object') return { isAuthenticated:false }\n      const snapShot = await getSnapshotFromUserAuth(userAuth)\n      if (snapShot instanceof Error) {\n        return { isAuthenticated:false, error:snapShot.message }\n      }\n      return { isAuthenticated: true, user: snapShot }\n  } catch(error) {\n      return { isAuthenticated:false, error:error.message }\n  }\n}\n\nasync function signInAfterSignUp(user,additionalData) {\n  const snapShot = await getSnapshotFromUserAuth(user, additionalData);\n  return snapShot\n}\n\nconst asyncFunctions = {\n  async checkUserSession() {\n    const checked = await isUserAuthenticated()\n    if (checked.error) {\n      throw new Error(checked.error)\n    }\n    if (!checked.isAuthenticated) {\n      return { currentUser: null, error:null }\n    }\n    return { currentUser: checked.user, error:null }\n  },\n  async signUp({email,password,displayName}) {\n    try {\n      const { user } = await auth.createUserWithEmailAndPassword(email, password);\n      const _document = await createUserProfileDocument(user, { displayName })\n      if (_document.error) {\n        return failedAttempt(_document.error)\n      }\n      const snapShot = await signInAfterSignUp(user,displayName)\n      return signUpSuccess(snapShot)\n    } catch(error) {\n      return failedAttempt(error.message)\n    }    \n  },\n  async googleSignIn() {\n    try {\n      const {user} = await auth.signInWithPopup(googleProvider);\n      await getSnapshotFromUserAuth(user);\n    } catch(error) {\n      return failedAttempt(error.message);\n    }    \n  },\n  async emailSignIn(email, password) {\n    try {\n      const { user } = await auth.signInWithEmailAndPassword(email,password);\n      const snapShot = await getSnapshotFromUserAuth(user);\n      return signInSuccess(snapShot)\n    } catch(error) {\n      return failedAttempt(error.message)\n    }\n  },\n  async signOut() {\n    try {\n      await auth.signOut();\n      return signOutSuccess()\n    } catch(error) {\n      return failedAttempt(error.message)\n    }\n  }\n}\n\nconst thunks = {}\nObject.keys(asyncFunctions).forEach(key => {\n  thunks[key] = createAsyncThunk(\n    'user/'+key,asyncFunctions[key]\n  )\n})\nconst extraReducers = (builder) => {\n  Object.keys(asyncFunctions).forEach(key => {\n    builder.addCase(thunks[key].pending, (state) => {\n      state.isPending = true\n    })\n    builder.addCase(thunks[key].fulfilled, (state, action) => {\n      Object.assign(state,action.payload)\n      state.isPending = false\n    })\n    builder.addCase(thunks[key].rejected, (state, action) => {\n      state.error = action.error.message\n      state.isPending = false\n    })\n  })\n}\n\nconst initialState = {\n  currentUser: null,\n  error:null,\n  isPending:false\n}\n\nconst slice = createSlice({\n  name: 'user',\n  initialState,\n  reducers: {\n    reset() {\n      return { ...initialState }\n    }\n  },\n  extraReducers\n})\n\nexport const userReducer = slice.reducer\nexport const userActions = slice.actions\nexport const userThunks = thunks","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit'\nimport { fetchDocuments } from '../../../firebase/firebase.utils'\nimport * as icons from '@fortawesome/free-solid-svg-icons'\n\nconst { faCloudSunRain, faUserFriends, faPlay, faMarker, faChartLine } = icons\n\nconst asyncFunctions = {\n  async fetchCollections() {\n    const collections = await fetchDocuments('categories')\n    Object.values(collections).forEach(collection => {\n      collection.routeName = encodeURI(collection.title.toLowerCase())\n    })\n    return { collections }\n  },\n  async fetchSections() {\n    const result = await fetchDocuments('sections')\n    // set the icon from font awesome by name, then sort by their \"order\" field\n    const sections = Object.values(result).map(value => { \n      value.icon = icons[value.icon]\n      return value\n    }).sort((a,b) => a.order - b.order)\n    return { sections }\n  }\n}\n\nconst thunks = {}\nObject.keys(asyncFunctions).forEach(key => {\n  thunks[key] = createAsyncThunk(\n    'shop/'+key,asyncFunctions[key]\n  )\n})\n\nexport const shopThunks = thunks\n\nconst extraReducers = (builder) => {\n  Object.keys(asyncFunctions).forEach(key => {\n    builder.addCase(thunks[key].pending, (state) => {\n      state.isPending = true\n    })\n    builder.addCase(thunks[key].fulfilled, (state, action) => {\n      Object.assign(state,action.payload)\n      state.isPending = false\n      state.error = false\n    })\n    builder.addCase(thunks[key].rejected, (state, action) => {\n      console.error('fetching rejcted',action.error.message)\n      state.error = action.error.message\n      state.isPending = false\n    })\n  })\n}\n\nconst slice = createSlice({\n  name:'shop',\n  initialState: {\n    collections: null,\n    isPending: false,\n    sections: [\n      {\n        title: 'weather',\n        imageUrl: '/img/weatherwidget.webp',\n        icon: faCloudSunRain,\n        id: 1,\n        linkUrl: 'shop/weather'\n      },\n      {\n        title: 'social',\n        imageUrl: '/img/kidshugging.webp',\n        icon: faUserFriends,\n        id: 2,\n        linkUrl: 'shop/social'\n      },\n      {\n        title: 'music',\n        imageUrl: '/img/musicwidget.webp',\n        icon: faPlay,\n        id: 3,\n        linkUrl: 'shop/music'\n      },\n      {\n        title: 'finance',\n        imageUrl: '/img/stockwidget.webp',\n        icon: faChartLine,\n        id: 4,\n        linkUrl: 'shop/finance',\n        size: 'large'\n      },\n      {\n        title: 'productivity',\n        imageUrl: '/img/pic.webp',\n        icon: faMarker,\n        id: 5,\n        linkUrl: 'shop/productivity',\n        size: 'large'\n      }               \n    ]\n  },\n  reducers: {},\n  extraReducers\n})\n\nexport const shopReducer = slice.reducer\nexport const shopActions = slice.actions","import React from 'react';\nimport './loading.styles.scss';\n\nexport const Spinner = () => (\n    <div className=\"spinner-overlay\">\n      <div className=\"spinner-container\"></div>\n    </div>\n)\n","import React, {useEffect, useState} from 'react';\nimport { fetchDocuments } from './firebase/firebase.utils'\nimport { sanitize } from 'dompurify';\nimport memoizeOne from 'memoize-one'\nimport { Spinner } from './components/ui/loading/loading.component';\n\nconst storage = {\n  get(key) {\n    try {\n      const item = sessionStorage.getItem(key);\n      return JSON.parse(item)\n    } catch {\n      return\n    }\n  },\n  set(key,value) {\n    try {\n      sessionStorage.setItem(key,JSON.stringify(value));\n    } catch {\n      return\n    }\n  }\n}\n\nconst toCamelCase = (word) => word.split(' ').map((txt,ind) => ind !== 0 ? txt.charAt(0).toUpperCase() + txt.slice(1) : txt).join('')\nconst size = (obj={}) => Object.keys(obj).length\n\nconst formatElements = (elements) => {\n  Object.keys(elements).forEach(key => {\n    const camelKey = toCamelCase(key)\n    if (camelKey !== key) {\n      elements[camelKey] = elements[key]\n      delete elements[key]\n    }\n    elements[camelKey] = elements[camelKey].value\n    if (typeof elements[camelKey] === 'string') {\n      elements[camelKey] = sanitize(elements[camelKey])\n    }\n  })\n  return elements\n}\n\nexport const api = {\n  branding: memoizeOne(async () => {\n    const elements = await fetchDocuments('branding')\n    const formatted = formatElements(elements)\n    return formatted\n  }),\n  contact: memoizeOne(async () => {\n    const elements = await fetchDocuments('contact')\n    const formatted = formatElements(elements)\n    return formatted\n  })\n}\n\nexport const withCms = (Component) => {\n  return (props) => {\n    const [_cms, _setCms] = useState({})\n    const state = {\n      get cms() { \n        return size(_cms) ? _cms : storage.get('cms') || {}\n      },\n      set cms(val) {\n        storage.set('cms',val)\n        _setCms(val)\n      }\n    }\n    useEffect(() => {\n      async function fetchData() {\n        const _branding = await api.branding()\n        const _contact = await api.contact()\n        state.cms = { branding: _branding, contact: _contact}\n      }\n      !size(state.cms) && fetchData()\n    },[])\n    return (\n      size(state.cms) ?\n      <Component {...props} cms={state.cms} />\n      :\n      <Spinner />\n    )\n  }\n}"],"sourceRoot":""}