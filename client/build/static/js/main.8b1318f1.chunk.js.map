{"version":3,"sources":["components/ui/custom-button/custom-button.component.jsx","components/collection-item/collection-item.component.jsx","components/collection-preview/collection-preview.component.jsx","components/collections-overview/collections-overview.component.jsx","pages/collection/collection.component.jsx","pages/shop/shop.component.jsx","components/ui/cart-icon/cart-icon.component.jsx","components/cart-item/cart-item.component.jsx","components/cart-dropdown/cart-dropdown.component.jsx","components/header/header.component.jsx","App.js","store/redux/store.js","store/redux/persistence.js","index.js","firebase/firebase.utils.js","store/redux/cart/cart-slice.js","store/redux/user/user-slice.js","store/redux/shop/shop-slice.js","components/ui/loading/loading.component.jsx","cms.js"],"names":["CustomButton","_ref","children","inverted","isGoogleSignIn","className","badgeContent","otherProps","badgeIcon","_objectWithoutProperties","_excluded","_jsx","_objectSpread","concat","Badge","color","cartIcon","faCartPlus","CollectionItem","item","matchingItem","useSelector","state","cart","cartItems","find","_item","id","quantity","dispatch","useDispatch","addToCart","cartItem","cartActions","addItem","name","price","imageUrl","quantityJsx","_jsxs","style","textTransform","src","alt","loading","onClick","FontAwesomeIcon","icon","CollectionPreview","title","items","toUpperCase","map","CollectionsOverview","collection","collectionsFromState","shop","collections","Object","keys","key","previews","count","_ref2","other","slice","CollectionPage","collectionId","match","params","ShopPage","fetchCollections","shopThunks","isFetching","isPending","error","useEffect","constructor","Spinner","console","Route","exact","path","render","props","CartIcon","itemCount","reduce","prev","curr","_Fragment","toggleItems","CartItem","_ref$item","withRouter","history","toggle","listener","target","dropdown","document","querySelector","contains","window","addEventListener","removeEventListener","length","push","withCms","branding","cms","currentUser","user","hidden","brandingText","titleText","titleColor","Link","to","userThunks","signOut","CartDropdown","checkUserSession","HomePage","lazyLoad","SignInAndSignUpPage","CheckoutPage","ContactPage","importFunc","Component","React","lazy","Suspense","fallback","App","Header","Switch","component","Redirect","rootReducer","userReducer","cartReducer","shopReducer","configureStore","reducer","persistConfig","storage","rootReducers","combineReducers","persistedReducer","persistReducer","store","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","thunk","setupListeners","persistor","persistStore","Persistence","PersistGate","ReactDOM","Provider","persistentStore","BrowserRouter","getElementById","createUserProfileDocument","_asyncToGenerator","_regeneratorRuntime","mark","_callee","userAuth","additionalData","userRef","displayName","email","createdAt","wrap","_context","next","abrupt","firestore","doc","uid","get","sent","exists","Date","set","t0","message","nonExistent","stop","_x","_x2","apply","arguments","convertSnapshot","docs","data","accumulated","toLowerCase","getCurrentUser","Promise","resolve","reject","unsubscribe","auth","onAuthStateChanged","fetchDocuments","_x5","_fetchDocuments","_callee3","collectionRef","snapshot","collectionsMap","_context3","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","googleProvider","GoogleAuthProvider","setCustomParameters","prompt","createSlice","initialState","reducers","action","current","cartItemToAdd","payload","updatedCart","_toConsumableArray","reduceItemQuantity","cartItemToReduce","filter","clearItem","clearCart","actions","signInSuccess","signUpSuccess","signOutSuccess","_signOutSuccess","_callee6","_args6","_context6","undefined","failedAttempt","_failedAttempt","_callee7","msg","_context7","getSnapshotFromUserAuth","_x3","_getSnapshotFromUserAuth","_callee8","userSnapshot","success","_context8","Error","isUserAuthenticated","_isUserAuthenticated","_callee9","snapShot","_context9","isAuthenticated","signInAfterSignUp","_x4","_signInAfterSignUp","_callee10","_context10","asyncFunctions","checked","signUp","_callee2","password","_yield$auth$createUse","_document","_context2","createUserWithEmailAndPassword","googleSignIn","_yield$auth$signInWit","signInWithPopup","emailSignIn","_callee4","_yield$auth$signInWit2","_context4","signInWithEmailAndPassword","_callee5","_context5","thunks","forEach","createAsyncThunk","reset","extraReducers","builder","addCase","pending","fulfilled","assign","rejected","faCloudSunRain","icons","faUserFriends","faPlay","faMarker","faChartLine","values","routeName","encodeURI","fetchSections","result","sections","value","sort","a","b","order","linkUrl","size","sessionStorage","getItem","JSON","parse","_unused","setItem","stringify","_unused2","obj","formatElements","elements","camelKey","split","txt","ind","charAt","join","sanitize","api","memoizeOne","formatted","contact","_useState","useState","_useState2","_slicedToArray","_cms","_setCms","val","_fetchData","_branding","_contact","fetchData"],"mappings":"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","file":"static/js/main.8b1318f1.chunk.js","sourcesContent":["import React from 'react';\nimport './custom-button.styles.scss';\nimport Badge from '@mui/material/Badge';\n\nconst CustomButton = ({ children, isGoogleSignIn, inverted, className, badgeContent, badgeIcon, ...otherProps }) => {\nreturn (\n    <button className={`${inverted ? 'inverted' : ''} ${className ? className : ''} custom-button`} { ...otherProps }>\n        <Badge badgeContent={badgeContent} color=\"primary\">{children}</Badge>\n    </button>\n    )\n}\nexport default CustomButton;","import React from 'react';\nimport { useSelector,useDispatch } from 'react-redux';\nimport { cartActions } from '../../store/redux/cart/cart-slice';\nimport CustomButton from '../ui/custom-button/custom-button.component';\nimport './collection-item.styles.scss';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faCartPlus } from '@fortawesome/free-solid-svg-icons'\n\nconst cartIcon = faCartPlus\n\nconst CollectionItem = ({ item }) => {\n    const cartItems = useSelector(state => state.cart.cartItems)\n    const matchingItem = cartItems.find(_item => _item.id === item.id)\n    const quantity = matchingItem ? matchingItem.quantity : 0\n    const dispatch = useDispatch()\n    const addItem = cartItem => dispatch(cartActions.addItem(cartItem)) \n    const addToCart = (cartItem) => { \n      addItem(cartItem) \n    } \n    const { name, price, imageUrl } = item;\n    const quantityJsx = quantity ? <span style={{textTransform:\"lowercase\"}}>&nbsp;quantity: {quantity}</span> : ''\n    return (\n        <div className=\"collection-item\" data-id={item.id}>\n            <div className=\"imageWrapper\">\n              <img className=\"image\" src={imageUrl} alt={name} loading=\"lazy\" />\n            </div>\n            <CustomButton onClick={() => addToCart(item)} inverted>\n                <span className=\"fontAwesomeIcon\"><FontAwesomeIcon icon={cartIcon} /></span>\n                <span className=\"button-text\">ADD TO CART {quantityJsx}</span>\n            </CustomButton>\n            <div className=\"collection-footer\">\n                <span className=\"name\">{name}</span>\n                <span className=\"price\">${price}</span>\n            </div>\n        </div>\n    )\n}\n\nexport default CollectionItem","import React from 'react';\nimport './collection-preview.styles.scss';\nimport CollectionItem from '../collection-item/collection-item.component';\n\nconst CollectionPreview = ({ title, items }) => (\n    <div className='collection-preview'>\n        <h1 className='title'>{title.toUpperCase()}</h1>\n        <div className=\"preview\">\n            {items.map((item) => (\n                <CollectionItem key={item.id} item={item} />\n            ))}\n        </div>\n    </div>\n) \nexport default CollectionPreview;","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport CollectionPreview from '../collection-preview/collection-preview.component';\n\nconst CollectionsOverview = ({collection}) => { \n    const previews = (collections) => collections ? Object.keys(collections).map(key => collections[key]) : []\n    const collectionsFromState = useSelector(state => state.shop.collections) || []\n    const collections = collection ? [collection] : previews(collectionsFromState)\n    let count = collections.count\n    return (\n    <div className='collections-overview'>\n        {\n            collections.map(({ id,...other }) => {\n              other.items = other.items.slice(0,4)\n              other.count = count\n              return <CollectionPreview key={id} {...other} />\n            })\n        }\n    </div> \n    )\n};\n\nexport default CollectionsOverview","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport CollectionsOverview from '../../components/collections-overview/collections-overview.component';\n\nconst CollectionPage = ({ match }) => {\n    const collectionId = match.params.collectionId\n    const collections = useSelector(state => state.shop.collections)\n    const collection = collections[collectionId]\n    return <CollectionsOverview collection={collection}></CollectionsOverview>\n};\n\nexport default CollectionPage","import React, { useEffect } from 'react';\nimport { Route } from 'react-router-dom';\nimport CollectionPage from '../collection/collection.component';\nimport CollectionsOverview from '../../components/collections-overview/collections-overview.component';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { shopThunks } from '../../store/redux/shop/shop-slice'\nimport { Spinner } from '../../components/ui/loading/loading.component'\n\nconst ShopPage = ({ match }) => {\n  const dispatch = useDispatch()\n  const fetchCollections = shopThunks.fetchCollections\n  const shop = useSelector(state => state.shop)\n  const isFetching = shop.isPending\n  const error = shop.error\n  const collections = useSelector(state => state.shop.collections)\n\n  useEffect(() => {\n    (!collections || collections.constructor.name !== 'Object') && dispatch(fetchCollections())\n  },[])\n\n  if (isFetching || !collections) {\n    return <Spinner />\n  }\n\n  if (error) {\n    console.error(error)\n    return <h1>Error!</h1>\n  }\n    return (\n        <div className=\"shop-page\">\n            <Route exact path={`${match.path}`} render={(props) => <CollectionsOverview {...props} /> } />\n            <Route path={`${match.path}/:collectionId`} render={(props) => <CollectionPage {...props} />} />\n        </div>\n    )\n}\n\nexport default ShopPage","import React from 'react';\nimport { useSelector,useDispatch } from 'react-redux';\nimport { cartActions } from '../../../store/redux/cart/cart-slice';\nimport './cart-icon.styles.scss';\nimport Badge from '@mui/material/Badge';\n\nconst CartIcon = () => {\n  const dispatch = useDispatch()\n  const cartItems = useSelector(state => state.cart.cartItems) || []\n  const itemCount = cartItems.reduce((prev,curr) => prev + (curr.quantity || 0), 0)\n  const toggle = () => dispatch(cartActions.toggleItems())\n  return (\n    <>\n    <div className='cart-icon' onClick={toggle}>\n      <Badge badgeContent={itemCount} color=\"primary\">\n          <img alt=\"shopping bag\" src=\"/img/bag.png\" />\n      </Badge>\n    </div>  \n    </>\n  )\n}\nexport default CartIcon","import React from 'react';\nimport './cart-item.styles.scss';\nconst CartItem = ({ item: { imageUrl, price, name, quantity } }) => (\n    <div className='cart-item'>\n        <img src={imageUrl} alt='item' />\n        <div className='item-details'>\n            <span className='name'>{name}</span>\n            <span className='price'>\n                {quantity} x ${price}\n            </span>\n        </div>\n    </div>\n);\nexport default CartItem;","import React, {useEffect} from 'react';\nimport CartItem from '../cart-item/cart-item.component';\nimport { useSelector, useDispatch } from 'react-redux';\nimport CustomButton from '../ui/custom-button/custom-button.component';\nimport { cartActions } from '../../store/redux/cart/cart-slice';\nimport { withRouter } from 'react-router-dom';\nimport './cart-dropdown.styles.scss';\n\nconst CartDropdown = ({ history }) => {\n    const dispatch = useDispatch()\n    const toggle = () => dispatch(cartActions.toggleItems())\n    const cartItems = useSelector(state => state.cart.cartItems) || []\n    const listener = ({target}) => {\n        const dropdown = document.querySelector('.cart-dropdown')\n        if (dropdown && !dropdown.contains(target)) {\n            toggle()\n        }\n    }\n    useEffect(() => {\n        window.addEventListener('click',listener)\n        return () => window.removeEventListener('click',listener)\n    }) \n    return (\n    <div className='cart-dropdown'>\n        <div className='cart-items'>\n            {\n              cartItems.length ? \n              cartItems.map(cartItem => <CartItem key={cartItem.id} item={cartItem} />)\n              :\n              <span className=\"empty-message\">Your cart is empty.</span>\n            }\n        </div>\n        {\n        cartItems.length ?\n        <CustomButton onClick={() => { \n            history.push('/checkout');\n            toggle();\n        }}>GO TO CHECKOUT</CustomButton>\n        : null\n        }\n    </div>\n)\n}\nexport default withRouter(CartDropdown)\n","import React from 'react';\nimport './header.styles.scss';\nimport { Link } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport CartIcon from '../ui/cart-icon/cart-icon.component'\nimport CartDropdown from '../cart-dropdown/cart-dropdown.component';\nimport { userThunks } from '../../store/redux/user/user-slice';\nimport { withCms } from '../../cms';\n\nconst Header = ({cms}) => {\n  \n  const { branding } = cms\n  const dispatch = useDispatch()\n  const currentUser = useSelector(state => state.user.currentUser)\n  const hidden = useSelector(state => state.cart ? state.cart.hidden : true)\n  const signOut = () => dispatch(userThunks.signOut())\n  const { brandingText, titleText, titleColor } = branding\n\n  document.title = titleText\n\n  return (\n  <div className=\"header clearfix\">\n      <Link to=\"/\">\n        <div className=\"branding\"><h2 style={{color:titleColor}}>{titleText}</h2></div>\n        { brandingText && <p className=\"brandingText\">{brandingText}</p> }\n      </Link>\n            \n      <div className=\"options\">\n          <Link to=\"/shop\">\n            <div className=\"option\">SHOP</div>\n          </Link>\n          <Link to=\"/contact\">\n            <div className=\"option\">CONTACT</div>\n          </Link>\n          {\n            currentUser ?\n            <div className=\"option\" onClick={signOut}>SIGN OUT</div>\n            :\n            <Link to=\"/signin\">\n              <div className=\"option\">SIGN IN</div>\n            </Link>\n          }\n          <CartIcon />\n      </div>\n      {\n      hidden ? null :\n      <CartDropdown />\n      }\n  </div>\n  )\n}\nexport default withCms(Header)","import React, { Suspense,useEffect } from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport { useSelector,useDispatch } from 'react-redux';\nimport './App.css';\nimport ShopPage from './pages/shop/shop.component';\nimport Header from './components/header/header.component';\nimport { userThunks } from './store/redux/user/user-slice';\n\nconst { checkUserSession } = userThunks\nconst HomePage = lazyLoad(() => import('./pages/homepage/homepage.component'))\nconst SignInAndSignUpPage = lazyLoad(() => import('./pages/sign-in-and-sign-up/sign-in-and-sign-up.component'));\nconst CheckoutPage = lazyLoad(() => import('./pages/checkout/checkout.component'));\nconst ContactPage = lazyLoad(() => import('./pages/contact/contact.component'));\n\nfunction lazyLoad(importFunc) {\n  const Component = React.lazy(importFunc)\n  return () => <Suspense fallback={<div>Loading ...</div>}><Component /></Suspense>\n}\n\nconst App = () => {\n  const dispatch = useDispatch()\n  const user = useSelector(state => state.user)\n  const currentUser = user.currentUser\n\n  useEffect(() => {\n    dispatch(checkUserSession())\n  },[dispatch])\n\n  return (\n    <div>\n      <Header />\n      <Switch>\n        <Route exact path='/' component={HomePage} />\n        <Route path='/shop' component={ShopPage} />\n        <Route exact path='/contact' component={ContactPage} />\n        <Route exact path='/checkout' component={CheckoutPage} />\n        <Route exact path='/signin' render={\n          () => currentUser ? (\n              <Redirect to='/' />\n            ) : (\n              <SignInAndSignUpPage />\n            )\n        } />\n      </Switch>\n    </div>\n  )\n}\nexport default App","import { configureStore } from '@reduxjs/toolkit'\nimport { cartReducer } from './cart/cart-slice'\nimport { userReducer } from './user/user-slice'\nimport { shopReducer } from './shop/shop-slice'\n\nexport const rootReducer = {\n  user:userReducer,\n  cart:cartReducer,\n  shop: shopReducer\n}\n\nexport const store = configureStore({\n  reducer: rootReducer\n})\n","import { configureStore } from '@reduxjs/toolkit'\nimport { setupListeners } from '@reduxjs/toolkit/query'\nimport { combineReducers } from '@reduxjs/toolkit'\nimport { rootReducer } from './store'\nimport thunk from 'redux-thunk'\nimport storage from 'redux-persist/lib/storage'\nimport { persistStore } from 'redux-persist'\nimport { PersistGate } from 'redux-persist/integration/react'\nimport {\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from 'redux-persist'\n\nconst persistConfig = {\n  key: 'root',\n  storage: storage\n}\nexport const rootReducers = combineReducers(rootReducer)\nconst persistedReducer = persistReducer(persistConfig, rootReducers)\n\nexport const store = configureStore({\n  reducer: persistedReducer,\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware({\n      serializableCheck: {\n        ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n      },\n    }).concat([thunk]),\n})\n\nsetupListeners(store.dispatch)\n\nlet persistor = persistStore(store)\n\nexport default function Persistence({children}) {\n  return (\n    <PersistGate persistor={persistor}>\n      {children}\n    </PersistGate>\n  )\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport './index.css';\nimport App from './App';\nimport Persistence, { store as persistentStore } from './store/redux/persistence';\n\nReactDOM.render(\n    <Provider store={persistentStore}>\n        <BrowserRouter>\n             <Persistence>\n                <App />\n             </Persistence>\n        </BrowserRouter>\n    </Provider>,\n    document.getElementById('root')\n);","import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\n\nconst config = {\n    apiKey: \"AIzaSyBmkAZLsK9nHRibcKYMA74sQ1uWjKuVMYc\",\n    authDomain: \"crown-db-90fc9.firebaseapp.com\",\n    databaseURL: \"https://crown-db-90fc9.firebaseio.com\",\n    projectId: \"crown-db-90fc9\",\n    storageBucket: \"crown-db-90fc9.appspot.com\",\n    messagingSenderId: \"1053207512331\",\n    appId: \"1:1053207512331:web:a7bc1128af8132eb3dce0e\"\n}\n\nexport const createUserProfileDocument = async (userAuth, additionalData) => {\n    if (!userAuth) return;\n\n    let userRef = firestore.doc(`users/${userAuth.uid}`);\n    const snapShot = await userRef.get();\n\n    if (!snapShot.exists) {\n        const { displayName, email } = userAuth;\n        const createdAt = new Date();\n\n        try {\n            await userRef.set({\n                displayName,\n                email,\n                createdAt,\n                ...additionalData\n            })\n        } catch (err) {\n            console.error('error creating user', err.message)\n            userRef = { ...userRef,error:err.message, nonExistent:true }\n        }\n    }\n    return userRef;\n}\n\nexport const addCollectionAndDocuments = async (collectionKey, objectsToAdd) => {\n    const collectionRef = firestore.collection(collectionKey);\n    const batch = firestore.batch();\n    objectsToAdd.forEach(obj => {\n        const newDocRef = collectionRef.doc();\n        batch.set(newDocRef, obj);\n    });\n    return await batch.commit();\n}\n\nexport const convertSnapshot = (collections) => {\n    const transformedCollection = collections.docs.map(doc => {\n        const data = doc.data();\n        return {\n            ...data,\n            id: doc.id,\n        }\n    });\n    return transformedCollection.reduce((accumulated, collection) => {\n        accumulated[collection.title.toLowerCase()] = collection;\n        return accumulated;\n    }, {});\n}\n\nexport const getCurrentUser = () => {\n    return new Promise((resolve, reject) => {\n        const unsubscribe = auth.onAuthStateChanged(userAuth => {\n            unsubscribe();\n            resolve(userAuth);\n        }, reject)\n    })\n}\n\nexport async function fetchDocuments(name) {\n    const collectionRef = firestore.collection(name);\n    const snapshot = await collectionRef.get();\n    const collectionsMap = await convertSnapshot(snapshot);\n    return collectionsMap\n  }\n\nfirebase.initializeApp(config);\nexport const auth = firebase.auth();\nexport const firestore = firebase.firestore();\nexport const googleProvider = new firebase.auth.GoogleAuthProvider();\ngoogleProvider.setCustomParameters({ prompt: 'select_account' });\nexport const signInWithGoogle = () => auth.signInWithPopup(googleProvider);","import { createSlice, current } from '@reduxjs/toolkit'\n\nconst slice = createSlice({\n  name: 'cart',\n  initialState: {\n    hidden: true,\n    cartItems: []\n  },\n  reducers: {\n    toggleItems(state) {  \n      return {\n        ...state,\n        hidden: !state.hidden\n      }\n    },\n    addItem(state,action) {\n      state = current(state)\n      const cartItems = state.cartItems\n      const cartItemToAdd = action.payload\n      const existingCartItem = cartItems.find(cartItem => cartItem.id === cartItemToAdd.id);\n\n      if (existingCartItem) {\n         const updatedCart = cartItems.map(\n            cartItem => {\n               return cartItem.id === cartItemToAdd.id ? {\n                  ...cartItem, quantity: cartItem.quantity +1\n               } : cartItem\n            }\n          )\n          return { ...state, cartItems:updatedCart }\n       }\n       return { ...state, cartItems: [...cartItems, { ...cartItemToAdd, quantity: 1 }] }\n    },\n    reduceItemQuantity(state,action) {\n      state = current(state)\n      const cartItems = state.cartItems\n      const cartItemToReduce = cartItems.find(item => item.id === action.payload.id)\n      const existingCartItem = cartItems.find(cartItem => cartItem.id === cartItemToReduce.id);\n      let updatedCart\n      if (existingCartItem.quantity === 1) {\n         updatedCart = cartItems.filter(item => item.id !== cartItemToReduce.id);\n      } else {\n        updatedCart = cartItems.map(item =>\n         item.id === cartItemToReduce.id \n         ? { ...item, quantity: item.quantity -1 }\n         : item\n        )\n      }\n      return {\n        ...state,\n        cartItems: updatedCart\n      }\n    },\n    clearItem(state,action) {\n      state = current(state)\n      return {\n        ...state,\n        cartItems: state.cartItems.filter(item => item.id !== action.payload.id)\n      }      \n    },\n    clearCart(state) {\n      return {\n        ...state,\n        cartItems:[]\n      }\n    },\n  }\n});\n\nexport const cartReducer = slice.reducer\nexport const cartActions = slice.actions","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit'\nimport { auth, googleProvider, createUserProfileDocument, getCurrentUser } from '../../../firebase/firebase.utils'\n\nfunction signInSuccess(user) {\n  return {\n    currentUser: user,\n    error: null,\n    isPending: false\n  }\n}\nfunction signUpSuccess({user, additionalData}) {\n  return {\n    ...user,\n    ...additionalData\n  }\n}\nasync function signOutSuccess(signOut={}) {\n  return {\n    ...signOut,\n    currentUser: null,\n    error: null               \n  }\n}\n\nasync function failedAttempt(msg) {\n  return {\n    currentUser:null,\n    error: msg,\n  }\n}\n\nasync function getSnapshotFromUserAuth(userAuth, additionalData) {\n  try {\n      const userRef = await createUserProfileDocument(userAuth, additionalData);\n      if (userRef.error) {\n        throw new Error(userRef.error || \"User doesn't exist.\")\n      }\n      const userSnapshot = await userRef.get();\n      const success = {id: userSnapshot.id, ...userSnapshot.data()};\n      return success\n  } catch(error) {\n      return error\n  }\n}\n\nasync function isUserAuthenticated() {\n  try {\n      const userAuth = await getCurrentUser();\n      if (typeof userAuth !== 'object') return { isAuthenticated:false }\n      const snapShot = await getSnapshotFromUserAuth(userAuth)\n      if (snapShot instanceof Error) {\n        return { isAuthenticated:false, error:snapShot.message }\n      }\n      return { isAuthenticated: true, user: snapShot }\n  } catch(error) {\n      return { isAuthenticated:false, error:error.message }\n  }\n}\n\nasync function signInAfterSignUp(user,additionalData) {\n  const snapShot = await getSnapshotFromUserAuth(user, additionalData);\n  return snapShot\n}\n\nconst asyncFunctions = {\n  async checkUserSession() {\n    const checked = await isUserAuthenticated()\n    if (checked.error) {\n      throw new Error(checked.error)\n    }\n    if (!checked.isAuthenticated) {\n      return { currentUser: null, error:null }\n    }\n    return { currentUser: checked.user, error:null }\n  },\n  async signUp({email,password,displayName}) {\n    try {\n      const { user } = await auth.createUserWithEmailAndPassword(email, password);\n      const _document = await createUserProfileDocument(user, { displayName })\n      if (_document.error) {\n        return failedAttempt(_document.error)\n      }\n      const snapShot = await signInAfterSignUp(user,displayName)\n      return signUpSuccess(snapShot)\n    } catch(error) {\n      return failedAttempt(error.message)\n    }    \n  },\n  async googleSignIn() {\n    try {\n      const {user} = await auth.signInWithPopup(googleProvider);\n      await getSnapshotFromUserAuth(user);\n    } catch(error) {\n      return failedAttempt(error.message);\n    }    \n  },\n  async emailSignIn(email, password) {\n    try {\n      const { user } = await auth.signInWithEmailAndPassword(email,password);\n      const snapShot = await getSnapshotFromUserAuth(user);\n      return signInSuccess(snapShot)\n    } catch(error) {\n      return failedAttempt(error.message)\n    }\n  },\n  async signOut() {\n    try {\n      await auth.signOut();\n      return signOutSuccess()\n    } catch(error) {\n      return failedAttempt(error.message)\n    }\n  }\n}\n\nconst thunks = {}\nObject.keys(asyncFunctions).forEach(key => {\n  thunks[key] = createAsyncThunk(\n    'user/'+key,asyncFunctions[key]\n  )\n})\nconst extraReducers = (builder) => {\n  Object.keys(asyncFunctions).forEach(key => {\n    builder.addCase(thunks[key].pending, (state) => {\n      state.isPending = true\n    })\n    builder.addCase(thunks[key].fulfilled, (state, action) => {\n      Object.assign(state,action.payload)\n      state.isPending = false\n    })\n    builder.addCase(thunks[key].rejected, (state, action) => {\n      state.error = action.error.message\n      state.isPending = false\n    })\n  })\n}\n\nconst initialState = {\n  currentUser: null,\n  error:null,\n  isPending:false\n}\n\nconst slice = createSlice({\n  name: 'user',\n  initialState,\n  reducers: {\n    reset() {\n      return { ...initialState }\n    }\n  },\n  extraReducers\n})\n\nexport const userReducer = slice.reducer\nexport const userActions = slice.actions\nexport const userThunks = thunks","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit'\nimport { fetchDocuments } from '../../../firebase/firebase.utils'\nimport * as icons from '@fortawesome/free-solid-svg-icons'\n\nconst { faCloudSunRain, faUserFriends, faPlay, faMarker, faChartLine } = icons\n\nconst asyncFunctions = {\n  async fetchCollections() {\n    const collections = await fetchDocuments('categories')\n    Object.values(collections).forEach(collection => {\n      collection.routeName = encodeURI(collection.title.toLowerCase())\n    })\n    return { collections }\n  },\n  async fetchSections() {\n    const result = await fetchDocuments('sections')\n    // set the icon from font awesome by name, then sort by their \"order\" field\n    const sections = Object.values(result).map(value => { \n      value.icon = icons[value.icon]\n      return value\n    }).sort((a,b) => a.order - b.order)\n    return { sections }\n  }\n}\n\nconst thunks = {}\nObject.keys(asyncFunctions).forEach(key => {\n  thunks[key] = createAsyncThunk(\n    'shop/'+key,asyncFunctions[key]\n  )\n})\n\nexport const shopThunks = thunks\n\nconst extraReducers = (builder) => {\n  Object.keys(asyncFunctions).forEach(key => {\n    builder.addCase(thunks[key].pending, (state) => {\n      state.isPending = true\n    })\n    builder.addCase(thunks[key].fulfilled, (state, action) => {\n      Object.assign(state,action.payload)\n      state.isPending = false\n      state.error = false\n    })\n    builder.addCase(thunks[key].rejected, (state, action) => {\n      console.error('fetching rejcted',action.error.message)\n      state.error = action.error.message\n      state.isPending = false\n    })\n  })\n}\n\nconst slice = createSlice({\n  name:'shop',\n  initialState: {\n    collections: null,\n    isPending: false,\n    sections: [\n      {\n        title: 'weather',\n        imageUrl: '/img/weatherwidget.webp',\n        icon: faCloudSunRain,\n        id: 1,\n        linkUrl: 'shop/weather'\n      },\n      {\n        title: 'social',\n        imageUrl: '/img/kidshugging.webp',\n        icon: faUserFriends,\n        id: 2,\n        linkUrl: 'shop/social'\n      },\n      {\n        title: 'music',\n        imageUrl: '/img/musicwidget.webp',\n        icon: faPlay,\n        id: 3,\n        linkUrl: 'shop/music'\n      },\n      {\n        title: 'finance',\n        imageUrl: '/img/stockwidget.webp',\n        icon: faChartLine,\n        id: 4,\n        linkUrl: 'shop/finance',\n        size: 'large'\n      },\n      {\n        title: 'productivity',\n        imageUrl: '/img/pic.webp',\n        icon: faMarker,\n        id: 5,\n        linkUrl: 'shop/productivity',\n        size: 'large'\n      }               \n    ]\n  },\n  reducers: {},\n  extraReducers\n})\n\nexport const shopReducer = slice.reducer\nexport const shopActions = slice.actions","import React from 'react';\nimport './loading.styles.scss';\n\nexport const Spinner = () => (\n    <div className=\"spinner-overlay\">\n      <div className=\"spinner-container\"></div>\n    </div>\n)\n","import React, {useEffect, useState} from 'react';\nimport { fetchDocuments } from './firebase/firebase.utils'\nimport { sanitize } from 'dompurify';\nimport memoizeOne from 'memoize-one'\nimport { Spinner } from './components/ui/loading/loading.component';\n\nconst storage = {\n  get(key) {\n    try {\n      const item = sessionStorage.getItem(key);\n      return JSON.parse(item)\n    } catch {\n      return\n    }\n  },\n  set(key,value) {\n    try {\n      sessionStorage.setItem(key,JSON.stringify(value));\n    } catch {\n      return\n    }\n  }\n}\n\nconst toCamelCase = (word) => word.split(' ').map((txt,ind) => ind !== 0 ? txt.charAt(0).toUpperCase() + txt.slice(1) : txt).join('')\nconst size = (obj={}) => Object.keys(obj).length\n\nconst formatElements = (elements) => {\n  Object.keys(elements).forEach(key => {\n    const camelKey = toCamelCase(key)\n    if (camelKey !== key) {\n      elements[camelKey] = elements[key]\n      delete elements[key]\n    }\n    elements[camelKey] = elements[camelKey].value\n    if (typeof elements[camelKey] === 'string') {\n      elements[camelKey] = sanitize(elements[camelKey])\n    }\n  })\n  return elements\n}\n\nexport const api = {\n  branding: memoizeOne(async () => {\n    const elements = await fetchDocuments('branding')\n    const formatted = formatElements(elements)\n    return formatted\n  }),\n  contact: memoizeOne(async () => {\n    const elements = await fetchDocuments('contact')\n    const formatted = formatElements(elements)\n    return formatted\n  })\n}\n\nexport const withCms = (Component) => {\n  return (props) => {\n    const [_cms, _setCms] = useState({})\n    const state = {\n      get cms() { \n        return size(_cms) ? _cms : storage.get('cms') || {}\n      },\n      set cms(val) {\n        storage.set('cms',val)\n        _setCms(val)\n      }\n    }\n    useEffect(() => {\n      async function fetchData() {\n        const _branding = await api.branding()\n        const _contact = await api.contact()\n        state.cms = { branding: _branding, contact: _contact}\n      }\n      !size(state.cms) && fetchData()\n    },[])\n    return (\n      size(state.cms) ?\n      <Component {...props} cms={state.cms} />\n      :\n      <Spinner />\n    )\n  }\n}"],"sourceRoot":""}